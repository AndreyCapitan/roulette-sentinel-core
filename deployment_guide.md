# Документация по развертыванию

Этот документ описывает шаги, необходимые для развертывания проекта «Умный аналитик рулетки».

## Требования

*   Python 3.11 или выше.
*   PostgreSQL сервер.
*   Git.
*   `pip` для установки зависимостей Python.

## Шаги установки

1.  **Клонировать репозиторий:**
    ```bash
    git clone <URL_ВАШЕГО_РЕПОЗИТОРИЯ_НА_GITHUB> roulette-sentinel-core
    cd roulette-sentinel-core
    ```

2.  **Создать и активировать виртуальное окружение (рекомендуется):**
    ```bash
    python3 -m venv venv
    source venv/bin/activate  # для Linux/macOS
    # venv\Scripts\activate    # для Windows
    ```

3.  **Установить зависимости:**
    ```bash
    pip install -r requirements.txt
    ```
    Файл `requirements.txt` должен содержать как минимум:
    ```
    python-telegram-bot[ext]
    psycopg2-binary
    ```

4.  **Настроить базу данных PostgreSQL:**
    *   Убедитесь, что у вас запущен PostgreSQL сервер.
    *   Создайте новую базу данных для проекта, например, `roulette_analyst_db`.
    *   Создайте пользователя с правами доступа к этой базе данных.
    *   Примените схему базы данных. Вы можете выполнить SQL-скрипт `schema.sql` из корневой директории проекта с помощью `psql` или другого инструмента управления БД:
        ```bash
        psql -U ВАШ_ПОЛЬЗОВАТЕЛЬ_PG -d roulette_analyst_db -a -f schema.sql
        ```

5.  **Настроить конфигурационный файл:**
    *   Создайте файл `.env` в корневой директории проекта.
    *   Добавьте в него следующие переменные окружения, заменив значения на ваши:
        ```env
        TELEGRAM_BOT_TOKEN="ВАШ_ТЕЛЕГРАМ_БОТ_ТОКЕН"
        DB_NAME="roulette_analyst_db"
        DB_USER="ВАШ_ПОЛЬЗОВАТЕЛЬ_PG"
        DB_PASSWORD="ВАШ_ПАРОЛЬ_PG"
        DB_HOST="localhost" # или адрес вашего PG сервера
        DB_PORT="5432"      # или порт вашего PG сервера
        ```
    *   **ВАЖНО:** Добавьте `.env` в ваш файл `.gitignore`, чтобы он не попал в репозиторий.
        Содержимое `.gitignore` должно включать как минимум:
        ```
        venv/
        __pycache__/
        *.pyc
        .env
        *.csv
        ```

6.  **Запустить бота:**
    ```bash
    python bot.py
    ```
    Бот должен подключиться к Telegram и базе данных и начать работу.

## Запуск тестов (опционально, но рекомендуется)

Перед запуском убедитесь, что вы находитесь в корневой директории проекта и виртуальное окружение активировано.
```bash
python -m unittest discover -s ./tests -p "test_*.py"
```

## Запуск симулятора (опционально)

Симулятор можно запустить для проверки логики стратегии:
```bash
python simulator.py
```
Вы можете передать аргументы командной строки для настройки симуляции, например:
```bash
python simulator.py --num_simulations 10 --num_spins 1000 --initial_bank 10000 --base_bet 10
```
Для просмотра всех опций:
```bash
python simulator.py --help
```

*(Эта документация будет обновляться по мере необходимости)*

