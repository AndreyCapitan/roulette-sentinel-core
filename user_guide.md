# Руководство пользователя

Добро пожаловать в «Умный аналитик рулетки»! Этот бот поможет вам управлять игрой в рулетку с помощью стратегии «Адаптивный Щит» и контролировать риски.

## Начало работы

1.  **Запустите бота:** Отправьте команду `/start`.
    *   Бот поприветствует вас и будет готов к началу новой игровой сессии.

## Основные команды

*   `/start`
    *   Начинает новую игровую сессию или предлагает продолжить существующую (если применимо).
    *   Запрашивает начальный банк и базовую ставку для стратегии «Адаптивный Щит».
*   `/bet <номер_спина>`
    *   Используется для ввода результата последнего спина (число от 0 до 36).
    *   Бот рассчитает следующую ставку на основе стратегии и текущего состояния, а также обновит статистику.
    *   **Примечание:** Пока что бот не делает ставки за вас, а только рассчитывает рекомендуемый размер ставки и отслеживает статистику.
*   `/stats`
    *   Показывает текущую игровую статистику:
        *   Начальный банк сессии
        *   Текущий банк
        *   Текущая серия проигрышей (Streak)
        *   Количество нулей за последние 50 спинов (Z_count)
        *   Размер Zero-буфера
        *   Текущий RiskIndex
        *   Рекомендуемый размер следующей ставки (если применимо)
*   `/stop`
    *   Завершает текущую игровую сессию.
    *   Сохраняет статистику сессии.
*   `/export_csv`
    *   Отправляет вам CSV-файл с историей всех спинов текущей (или последней завершенной) сессии.
*   `/simulate <N_spins> [initial_bank] [base_bet]`
    *   Запускает симуляцию N спинов с указанным начальным банком и базовой ставкой (если не указаны, используются значения по умолчанию или из текущей сессии).
    *   Выводит подробную статистику по результатам симуляции.

## Стратегия «Адаптивный Щит»

Бот использует формулу для расчета ставки:
`Betₖ = (Base × Fibₖ × BufferFactor) / RiskIndex`

Где:
*   `Base`: Ваша базовая ставка.
*   `Fibₖ`: Число Фибоначчи, где `k` — текущая серия проигрышей.
*   `BufferFactor`: Рассчитывается как `1 - (Z_count / 50)`, где `Z_count` — количество нулей за последние 50 спинов.
*   `RiskIndex`: Рассчитывается как `1 + (Streak / 15)`, где `Streak` — текущая серия проигрышей.

## Управление рисками

Бот автоматически предложит остановить игру (или остановит симуляцию) при следующих условиях:
*   15+ проигрышей подряд.
*   4+ нулей за последние 50 спинов.
*   Просадка банка на 20% или более от начального банка сессии.

**Zero-буфер:**
*   5% от каждого вашего чистого выигрыша автоматически откладывается в Zero-буфер.
*   Если выпадает «зеро» (0), и ваша ставка проигрывает, 50% от суммы этой ставки компенсируется из Zero-буфера (если в буфере достаточно средств).

## Важные замечания

*   **Ответственная игра:** Помните, что рулетка — это азартная игра. Бот является инструментом для анализа и управления рисками по заданной стратегии, но не гарантирует выигрыш. Играйте ответственно и не ставьте больше, чем можете позволить себе проиграть.
*   **Точность данных:** Корректность работы бота зависит от точности вводимых вами результатов спинов.

*(Детали будут обновляться по мере развития проекта)*

